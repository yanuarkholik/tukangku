{% extends '../index.html' %}
{% load static %}
{% load humanize %} 


{% block css %}
<link rel="stylesheet" href="{% static 'css/grid.css' %}">
<link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock %}

{% block url %}
<div class="d-flex justify-content-between m-auto">
	<div class="nav-item active">
		<a class="nav-link" href="{% url 'home' %}">Protofolio Desain</a>
	</div>
	<div class="nav-item">
		<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" id="navbarDropdown" role="button">Data Produk</a>
		<ul class="dropdown-menu megamenu m-2 border border-light" style="max-width: 98%;">
			<div class="row">
				<div class="col-md-3">
					<ul>
						<h6 class="list-header">List Header</h6>
						<hr>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
					</ul>
				</div>
				<div class="col-md-3">
					<ul>
						<h6 class="list-header">List Header</h6>
						<hr>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
						<li>
							<a href="#">Lorem Ipsum</a>
						</li>
					</ul>
				</div>
			</div>
		</ul>
	</div>
	<div class="nav-item">
		<div class="dropdown">
			<a class="dropdown-toggle nav-link" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			  Dropdown link
			</a>
		  
			<div class="dropdown-menu m-2 border border-light" aria-labelledby="dropdownMenuLink">
			  <a class="dropdown-item" href="#">Action</a>
			  <a class="dropdown-item" href="#">Another action</a>
			  <a class="dropdown-item" href="#">Something else here</a>
			</div>
		  </div>
		</ul>
	</div>
</div>
{% endblock %}

{% block nav %}
<div class="sticky-top shadow-sm border-botto">
	<nav class="nav-one navbar navbar-expand-sm bg-white navbar-white p-0">
		<div class="container " style="max-width: 95%;">
			<div class="d-flex justify-content-between m-auto">
				<div class="d-flex justify-content-between m-auto">
					<div class="nav-item">
						<a href="#overview" class="nav-link">Overview</a>
					</div>
					<div class="nav-item">
						<a href="#deskripsi" class="nav-link">Deskripsi</a>
					</div>
					<div class="nav-item">
						<a href="#profile" class="nav-link">Profile</a>
					</div>
					<div class="nav-item">
						<a href="#reviews" class="nav-link">Reviews</a>
					</div>
					<div class="nav-item">
						<a href="#staticBackdrop" class="nav-link">Contact</a>
					</div>
				</div>
			</div>
		</div>
	</nav>
</div>
{% endblock %}

{% block content %}
    <div class="container" style="max-width: 95%;">
    <div class="row">
		<div class="col-lg-8 p-2">	
			<div class="col-lg-12 rounded bg-white shadow-sm p-3" id="overview">
				<nav aria-label="breadcrumb">
					<ul class="breadcrumb bg-white p-0">
						<li><a href="#">Home</a></li>
						<li><a href="#">{{ object.kategori }}</a></li>
						<li>{{ object.judul }}</li>
					  </ul>
				</nav>
				<h1>
					{{ object.judul }}
				</h1>
				<div class="media mt-2 mb-2">
					<img src="{{ object.user.profile.image.url }}" class="align-self-center mr-3" alt="{{ object.user }}" style=" width: 30px; height: 30px; object-fit: cover; border-radius: 50%;">
					<div class="media-body m-auto">
					  <h6 class="mt-0 "><a href="{% url 'dashboard' object.user.username %}">{{ object.user }}</a> <span class="text-secondary">{{ object.review.star }}</span><span class="text-secondary font-weight-normal"> | antrian</span></h6>
					</div>
				</div>
				<div id="carousel{{ object.id }}" class="carousel slide" data-ride="carousel">
					<div class="carousel-inner">
						<div class="carousel-item active">
							<img src="{{ object.thumbnail.url }}" alt="{{ object.user }}" style="width: 100%; max-height: 500px; object-fit: cover;">
						</div>
						<div class="carousel-item ">
							<img src="{{ object.img.images.url }}" alt="{{ object.user }}" style="width: 100%; max-height: 500px; object-fit: cover;">
						</div>
					</div>
					<a class="carousel-control-prev" href="#carousel{{ object.id }}" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="carousel-control-next" href="#carousel{{ object.id }}" role="button" data-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
				<p class="mt-2 mb-2 text-justify" id="deskripsi">
					{{ object.deskripsi_project|linebreaks  }}
				</p>
				<hr>
				<div class="media">
					<img src="{{ object.user.profile.image.url }}" class="align-self-center mr-3" alt="{{ object.user }}" style=" width: 80px; height: 80px; object-fit: cover; border-radius: 50%;">
					<div class="media-body">
						<h5 class="mt-0"><a href="{% url 'dashboard' object.user.username %}">{{ object.user }}</a> <span class="text-muted"> | reviews</span></h5>
						<p>{{ object.deskripsi }}</p>
						<!-- Button trigger modal -->
						<button type="button" class="btn btn-outline-secondary" data-toggle="modal" data-target="#staticBackdrop">
							Contact <span class="text-capitalizen">{{ object.user }}</span>
						</button>
						  
						  <!-- Modal -->
						  <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered" style="max-width: 50%;">
							  <div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="staticBackdropLabel">Contact <span class="text-capitalizen">{{ object.user }}</span></h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
								  <form action="" method="POST">
									  {% csrf_token %}
									  {{ form }}
								  </form>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-danger" data-dismiss="modal">Keluar</button>
									<button type="button" class="btn btn-primary">Kirim</button>
								</div>
							  </div>
							</div>
						</div>
					</div>
				</div>
				<div class="card mt-3" id="profile">
					<div class="card-header">
						<nav class="d-flex justify-content-between">
							<h6>
								<span class="font-weight-light">Asal</span><br>
								<span class="font-weight-bold">{{ object.provinsi }}, {{ object.kota }}</span>
							</h6>
							<h6>
								<span class="font-weight-light">Member sejak</span><br>
								<span class="font-weight-bold">{{ object.user.profile.buat|date:"M, Y" }}</span>
							</h6>
							<h6>
								<span class="font-weight-light">Pengalaman</span><br>
								<span class="font-weight-bold">{{ object.user.profile.pengalaman}}</span>
							</h6>
						</nav>
					</div>
					<div class="card-body">
						<blockquote class="blockquote mb-0">
							<p class="text-justify" style="font-size: small;">{{ object.user.profile.deskripsi|linebreaks }}</p>
						</blockquote>
					</div>
				</div>
				<div class="mt-3" id="portofolio">
					<h5>
						Protofolio
					</h5>
				</div>
				<div class="mt-3" id="review">
					<h5>
						Review Pelanggan
					</h5>
					<hr>
				</div>
			</div>
		</div>
		<div class="col-lg-4 p-2 ">
			<div class="sticky shadow-sm rounded p-4 bg-white">
				<nav class="nav-one navbar navbar-expand-sm navbar-white d-flex justify-content-between m-auto p-0">
					<div class="nav-item ">
						<p class="font-weight-bold" style="font-size: large;">
							Estimasi Biaya
						</p>
					</div>
					<div class="nav-item">
						<p class="font-weight-normal" style="font-size: larger;">
							IDR {{ object.estimasi_kecil|intcomma }}
						</p>
					</div>
				</nav><br><br>
				<div class="nav-item">
					<p class="font-weight-normal" style="font-size: small;">
						{{ object.deskripsi_singkat }}
					</p>
				</div><br>
				<div class="nav-item">
					<p class="font-weight-bold text-secondary" style="font-size: small;">
						Perkiraan {{ object.waktu_pengerjaan }} hari, {{ object.banyak_revisi}} revisi
					</p>
				</div>
				<button type="button" class="btn btn-info btn-block" data-toggle="modal" data-target="#staticBackdrop">
					Contact Sekarang
				</button>
			</div>
		</div>
    </div>
</section>

<style>
	/* Add a slash symbol (/) before/behind each list item */
html {
	scroll-behavior: smooth;
}

.sticky {
  position: sticky;
  top: 45px;
}
.nav-one a.active {
  background: rgba(0, 0, 0, 0.5);
  color: white;
}

.nav-one a:hover { background: rgba(255, 255, 255, 0.7); }

ul.breadcrumb li+li:before {
  padding: 8px;
  color: black;
  content: ">\00a0";
}

/* Add a color to all links inside the list */
ul.breadcrumb li a {
  color: #0275d8;
  text-decoration: none;
}

/* Add a color on mouse-over */
ul.breadcrumb li a:hover {
  color: #01447e;
  text-decoration: underline;
}
</style>
{% endblock %}